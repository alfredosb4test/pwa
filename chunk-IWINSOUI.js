import{a as Ie}from"./chunk-ULR5MNMQ.js";import{a as Ne,b as Ee,d as Te}from"./chunk-SZRXRQCV.js";import{b as De,c as ye,d as xe}from"./chunk-NKEJ32KC.js";import{$ as be,C as me,G as K,H as ve,K as _e,_ as Ce,j as ge,k as R}from"./chunk-7K4UIWI7.js";import"./chunk-SWYALDXR.js";import{g as pe}from"./chunk-I6AKDVZX.js";import{D as U,Eb as O,Gb as ce,Lb as v,Mb as le,Nb as A,Ob as p,Qa as T,Rb as he,S as $,Wa as z,Wb as ue,Xb as _,Yb as b,Z as M,Za as u,Zb as fe,_a as d,_b as D,aa as se,ab as ae,ca as q,ea as C,eb as m,f as N,fa as w,g as x,ga as c,gb as k,hb as H,j as te,l as ie,mb as S,n as ne,na as E,nb as de,oa as oe,tb as l,ub as f,v as re,vb as W,yb as F}from"./chunk-QYKYBBAS.js";import"./chunk-JCXCEWRH.js";var X=class{constructor(){this.expansionModel=new Te(!0)}toggle(e){this.expansionModel.toggle(this._trackByValue(e))}expand(e){this.expansionModel.select(this._trackByValue(e))}collapse(e){this.expansionModel.deselect(this._trackByValue(e))}isExpanded(e){return this.expansionModel.isSelected(this._trackByValue(e))}toggleDescendants(e){this.expansionModel.isSelected(this._trackByValue(e))?this.collapseDescendants(e):this.expandDescendants(e)}collapseAll(){this.expansionModel.clear()}expandDescendants(e){let o=[e];o.push(...this.getDescendants(e)),this.expansionModel.select(...o.map(t=>this._trackByValue(t)))}collapseDescendants(e){let o=[e];o.push(...this.getDescendants(e)),this.expansionModel.deselect(...o.map(t=>this._trackByValue(t)))}_trackByValue(e){return this.trackBy?this.trackBy(e):e}},B=class extends X{constructor(e,o,t){super(),this.getLevel=e,this.isExpandable=o,this.options=t,this.options&&(this.trackBy=this.options.trackBy)}getDescendants(e){let o=this.dataNodes.indexOf(e),t=[];for(let i=o+1;i<this.dataNodes.length&&this.getLevel(e)<this.getLevel(this.dataNodes[i]);i++)t.push(this.dataNodes[i]);return t}expandAll(){this.expansionModel.select(...this.dataNodes.map(e=>this._trackByValue(e)))}};var J=new se("CDK_TREE_NODE_OUTLET_NODE"),P=(()=>{let e=class e{constructor(t,i){this.viewContainer=t,this._node=i}};e.\u0275fac=function(i){return new(i||e)(d(S),d(J,8))},e.\u0275dir=c({type:e,selectors:[["","cdkTreeNodeOutlet",""]]});let n=e;return n})(),G=class{constructor(e){this.$implicit=e}},j=(()=>{let e=class e{constructor(t){this.template=t}};e.\u0275fac=function(i){return new(i||e)(d(ue))},e.\u0275dir=c({type:e,selectors:[["","cdkTreeNodeDef",""]],inputs:{when:["cdkTreeNodeDefWhen","when"]}});let n=e;return n})();var g=(()=>{let e=class e{get dataSource(){return this._dataSource}set dataSource(t){this._dataSource!==t&&this._switchDataSource(t)}constructor(t,i){this._differs=t,this._changeDetectorRef=i,this._onDestroy=new N,this._levels=new Map,this.viewChange=new x({start:0,end:Number.MAX_VALUE})}ngOnInit(){this._dataDiffer=this._differs.find([]).create(this.trackBy),this.treeControl}ngOnDestroy(){this._nodeOutlet.viewContainer.clear(),this.viewChange.complete(),this._onDestroy.next(),this._onDestroy.complete(),this._dataSource&&typeof this._dataSource.disconnect=="function"&&this.dataSource.disconnect(this),this._dataSubscription&&(this._dataSubscription.unsubscribe(),this._dataSubscription=null)}ngAfterContentChecked(){let t=this._nodeDefs.filter(i=>!i.when);t.length>1,this._defaultNodeDef=t[0],this.dataSource&&this._nodeDefs&&!this._dataSubscription&&this._observeRenderChanges()}_switchDataSource(t){this._dataSource&&typeof this._dataSource.disconnect=="function"&&this.dataSource.disconnect(this),this._dataSubscription&&(this._dataSubscription.unsubscribe(),this._dataSubscription=null),t||this._nodeOutlet.viewContainer.clear(),this._dataSource=t,this._nodeDefs&&this._observeRenderChanges()}_observeRenderChanges(){let t;Ee(this._dataSource)?t=this._dataSource.connect(this):ie(this._dataSource)?t=this._dataSource:Array.isArray(this._dataSource)&&(t=te(this._dataSource)),t&&(this._dataSubscription=t.pipe($(this._onDestroy)).subscribe(i=>this.renderNodeChanges(i)))}renderNodeChanges(t,i=this._dataDiffer,r=this._nodeOutlet.viewContainer,s){let a=i.diff(t);a&&(a.forEachOperation((h,Q,I)=>{if(h.previousIndex==null)this.insertNode(t[I],I,r,s);else if(I==null)r.remove(Q),this._levels.delete(h.item);else{let Pe=r.get(Q);r.move(Pe,I)}}),this._changeDetectorRef.detectChanges())}_getNodeDef(t,i){if(this._nodeDefs.length===1)return this._nodeDefs.first;let r=this._nodeDefs.find(s=>s.when&&s.when(i,t))||this._defaultNodeDef;return r}insertNode(t,i,r,s){let a=this._getNodeDef(t,i),h=new G(t);this.treeControl.getLevel?h.level=this.treeControl.getLevel(t):typeof s<"u"&&this._levels.has(s)?h.level=this._levels.get(s)+1:h.level=0,this._levels.set(t,h.level),(r||this._nodeOutlet.viewContainer).createEmbeddedView(a.template,h,i),y.mostRecentTreeNode&&(y.mostRecentTreeNode.data=t)}};e.\u0275fac=function(i){return new(i||e)(d(z),d(ae))},e.\u0275cmp=C({type:e,selectors:[["cdk-tree"]],contentQueries:function(i,r,s){if(i&1&&fe(s,j,5),i&2){let a;_(a=D())&&(r._nodeDefs=a)}},viewQuery:function(i,r){if(i&1&&b(P,7),i&2){let s;_(s=D())&&(r._nodeOutlet=s.first)}},hostAttrs:["role","tree",1,"cdk-tree"],inputs:{dataSource:"dataSource",treeControl:"treeControl",trackBy:"trackBy"},exportAs:["cdkTree"],decls:1,vars:0,consts:[["cdkTreeNodeOutlet",""]],template:function(i,r){i&1&&F(0,0)},dependencies:[P],encapsulation:2});let n=e;return n})(),y=(()=>{let e=class e{get role(){return"treeitem"}set role(t){this._elementRef.nativeElement.setAttribute("role",t)}get data(){return this._data}set data(t){t!==this._data&&(this._data=t,this._setRoleFromData(),this._dataChanges.next())}get isExpanded(){return this._tree.treeControl.isExpanded(this._data)}get level(){return this._tree.treeControl.getLevel?this._tree.treeControl.getLevel(this._data):this._parentNodeAriaLevel}constructor(t,i){this._elementRef=t,this._tree=i,this._destroyed=new N,this._dataChanges=new N,e.mostRecentTreeNode=this,this.role="treeitem"}ngOnInit(){this._parentNodeAriaLevel=je(this._elementRef.nativeElement),this._elementRef.nativeElement.setAttribute("aria-level",`${this.level+1}`)}ngOnDestroy(){e.mostRecentTreeNode===this&&(e.mostRecentTreeNode=null),this._dataChanges.complete(),this._destroyed.next(),this._destroyed.complete()}focus(){this._elementRef.nativeElement.focus()}_setRoleFromData(){!this._tree.treeControl.isExpandable&&this._tree.treeControl.getChildren,this.role="treeitem"}};e.mostRecentTreeNode=null,e.\u0275fac=function(i){return new(i||e)(d(T),d(g))},e.\u0275dir=c({type:e,selectors:[["cdk-tree-node"]],hostAttrs:[1,"cdk-tree-node"],hostVars:1,hostBindings:function(i,r){i&2&&k("aria-expanded",r.isExpanded)},inputs:{role:"role"},exportAs:["cdkTreeNode"]});let n=e;return n})();function je(n){let e=n.parentElement;for(;e&&!Le(e);)e=e.parentElement;return e?e.classList.contains("cdk-nested-tree-node")?R(e.getAttribute("aria-level")):0:-1}function Le(n){let e=n.classList;return!!(e?.contains("cdk-nested-tree-node")||e?.contains("cdk-tree"))}var Ve=/([A-Za-z%]+)$/,Z=(()=>{let e=class e{get level(){return this._level}set level(t){this._setLevelInput(t)}get indent(){return this._indent}set indent(t){this._setIndentInput(t)}constructor(t,i,r,s){this._treeNode=t,this._tree=i,this._element=r,this._dir=s,this._destroyed=new N,this.indentUnits="px",this._indent=40,this._setPadding(),s&&s.change.pipe($(this._destroyed)).subscribe(()=>this._setPadding(!0)),t._dataChanges.subscribe(()=>this._setPadding())}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_paddingIndent(){let t=this._treeNode.data&&this._tree.treeControl.getLevel?this._tree.treeControl.getLevel(this._treeNode.data):null,i=this._level==null?t:this._level;return typeof i=="number"?`${i*this._indent}${this.indentUnits}`:null}_setPadding(t=!1){let i=this._paddingIndent();if(i!==this._currentPadding||t){let r=this._element.nativeElement,s=this._dir&&this._dir.value==="rtl"?"paddingRight":"paddingLeft",a=s==="paddingLeft"?"paddingRight":"paddingLeft";r.style[s]=i||"",r.style[a]="",this._currentPadding=i}}_setLevelInput(t){this._level=R(t,null),this._setPadding()}_setIndentInput(t){let i=t,r="px";if(typeof t=="string"){let s=t.split(Ve);i=s[0],r=s[1]||r}this.indentUnits=r,this._indent=R(i),this._setPadding()}};e.\u0275fac=function(i){return new(i||e)(d(y),d(g),d(T),d(me,8))},e.\u0275dir=c({type:e,selectors:[["","cdkTreeNodePadding",""]],inputs:{level:["cdkTreeNodePadding","level"],indent:["cdkTreeNodePaddingIndent","indent"]}});let n=e;return n})(),Y=(()=>{let e=class e{get recursive(){return this._recursive}set recursive(t){this._recursive=ge(t)}constructor(t,i){this._tree=t,this._treeNode=i,this._recursive=!1}_toggle(t){this.recursive?this._tree.treeControl.toggleDescendants(this._treeNode.data):this._tree.treeControl.toggle(this._treeNode.data),t.stopPropagation()}};e.\u0275fac=function(i){return new(i||e)(d(g),d(y))},e.\u0275dir=c({type:e,selectors:[["","cdkTreeNodeToggle",""]],hostBindings:function(i,r){i&1&&O("click",function(a){return r._toggle(a)})},inputs:{recursive:["cdkTreeNodeToggleRecursive","recursive"]}});let n=e;return n})();var we=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=w({type:e}),e.\u0275inj=M({});let n=e;return n})();var Ue=_e(ve(y)),Se=(()=>{let e=class e extends Ue{constructor(t,i,r){super(t,i),this.tabIndex=Number(r)||0}ngOnInit(){super.ngOnInit()}ngOnDestroy(){super.ngOnDestroy()}};e.\u0275fac=function(i){return new(i||e)(d(T),d(g),oe("tabindex"))},e.\u0275dir=c({type:e,selectors:[["mat-tree-node"]],hostAttrs:[1,"mat-tree-node"],inputs:{role:"role",disabled:"disabled",tabIndex:"tabIndex"},exportAs:["matTreeNode"],features:[p([{provide:y,useExisting:e}]),m]});let n=e;return n})(),Fe=(()=>{let e=class e extends j{};e.\u0275fac=(()=>{let t;return function(r){return(t||(t=E(e)))(r||e)}})(),e.\u0275dir=c({type:e,selectors:[["","matTreeNodeDef",""]],inputs:{when:["matTreeNodeDefWhen","when"],data:["matTreeNode","data"]},features:[p([{provide:j,useExisting:e}]),m]});let n=e;return n})();var Oe=(()=>{let e=class e extends Z{get level(){return this._level}set level(t){this._setLevelInput(t)}get indent(){return this._indent}set indent(t){this._setIndentInput(t)}};e.\u0275fac=(()=>{let t;return function(r){return(t||(t=E(e)))(r||e)}})(),e.\u0275dir=c({type:e,selectors:[["","matTreeNodePadding",""]],inputs:{level:["matTreeNodePadding","level"],indent:["matTreeNodePaddingIndent","indent"]},features:[p([{provide:Z,useExisting:e}]),m]});let n=e;return n})(),ke=(()=>{let e=class e{constructor(t,i){this.viewContainer=t,this._node=i}};e.\u0275fac=function(i){return new(i||e)(d(S),d(J,8))},e.\u0275dir=c({type:e,selectors:[["","matTreeNodeOutlet",""]],features:[p([{provide:P,useExisting:e}])]});let n=e;return n})(),Ae=(()=>{let e=class e extends g{constructor(){super(...arguments),this._nodeOutlet=void 0}};e.\u0275fac=(()=>{let t;return function(r){return(t||(t=E(e)))(r||e)}})(),e.\u0275cmp=C({type:e,selectors:[["mat-tree"]],viewQuery:function(i,r){if(i&1&&b(ke,7),i&2){let s;_(s=D())&&(r._nodeOutlet=s.first)}},hostAttrs:["role","tree",1,"mat-tree"],exportAs:["matTree"],features:[p([{provide:g,useExisting:e}]),m],decls:1,vars:0,consts:[["matTreeNodeOutlet",""]],template:function(i,r){i&1&&F(0,0)},dependencies:[ke],styles:[".mat-tree{display:block;background-color:var(--mat-tree-container-background-color)}.mat-tree-node,.mat-nested-tree-node{color:var(--mat-tree-node-text-color);font-family:var(--mat-tree-node-text-font);font-size:var(--mat-tree-node-text-size);font-weight:var(--mat-tree-node-text-weight)}.mat-tree-node{display:flex;align-items:center;flex:1;word-wrap:break-word;min-height:var(--mat-tree-node-min-height)}.mat-nested-tree-node{border-bottom-width:0}"],encapsulation:2});let n=e;return n})(),Re=(()=>{let e=class e extends Y{};e.\u0275fac=(()=>{let t;return function(r){return(t||(t=E(e)))(r||e)}})(),e.\u0275dir=c({type:e,selectors:[["","matTreeNodeToggle",""]],inputs:{recursive:["matTreeNodeToggleRecursive","recursive"]},features:[p([{provide:Y,useExisting:e}]),m]});let n=e;return n})();var Be=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=w({type:e}),e.\u0275inj=M({imports:[we,K,K]});let n=e;return n})(),L=class{constructor(e,o,t,i){this.transformFunction=e,this.getLevel=o,this.isExpandable=t,this.getChildren=i}_flattenNode(e,o,t,i){let r=this.transformFunction(e,o);if(t.push(r),this.isExpandable(r)){let s=this.getChildren(e);s&&(Array.isArray(s)?this._flattenChildren(s,o,t,i):s.pipe(U(1)).subscribe(a=>{this._flattenChildren(a,o,t,i)}))}return t}_flattenChildren(e,o,t,i){e.forEach((r,s)=>{let a=i.slice();a.push(s!=e.length-1),this._flattenNode(r,o+1,t,a)})}flattenNodes(e){let o=[];return e.forEach(t=>this._flattenNode(t,0,o,[])),o}expandFlattenedNodes(e,o){let t=[],i=[];return i[0]=!0,e.forEach(r=>{let s=!0;for(let a=0;a<=this.getLevel(r);a++)s=s&&i[a];s&&t.push(r),this.isExpandable(r)&&(i[this.getLevel(r)+1]=o.isExpanded(r))}),t}},V=class extends Ne{get data(){return this._data.value}set data(e){this._data.next(e),this._flattenedData.next(this._treeFlattener.flattenNodes(this.data)),this._treeControl.dataNodes=this._flattenedData.value}constructor(e,o,t){super(),this._treeControl=e,this._treeFlattener=o,this._flattenedData=new x([]),this._expandedData=new x([]),this._data=new x([]),t&&(this.data=t)}connect(e){return re(e.viewChange,this._treeControl.expansionModel.changed,this._flattenedData).pipe(ne(()=>(this._expandedData.next(this._treeFlattener.expandFlattenedNodes(this._flattenedData.value,this._treeControl)),this._expandedData.value)))}disconnect(){}};var qe=["tree"];function ze(n,e){if(n&1&&(l(0,"mat-tree-node",9),W(1,"button",10),v(2),f()),n&2){let o=e.$implicit;u(2),A(" ",o.name," ")}}function He(n,e){if(n&1&&(l(0,"mat-tree-node",9)(1,"button",11)(2,"mat-icon",12),v(3),f()(),v(4),f()),n&2){let o=e.$implicit,t=ce();u(),k("aria-label","Toggle "+o.name),u(2),A(" ",t.treeControl.isExpanded(o)?"expand_more":"chevron_right"," "),u(),A(" ",o.name," ")}}var ee=[],It=(()=>{let e=class e{constructor(){this.location=q(pe),this.generalesService=q(Ie),this._transformer=(t,i)=>({expandable:!!t.children&&t.children.length>0,name:t.name,level:i}),this.treeControl=new B(t=>t.level,t=>t.expandable),this.treeFlattener=new L(this._transformer,t=>t.level,t=>t.expandable,t=>t.children),this.dataSource=new V(this.treeControl,this.treeFlattener),this.hasChild=(t,i)=>i.expandable}ngOnInit(){this.fiado=JSON.parse(localStorage.getItem("fiado")),console.log(this.fiado),this.generalesService.fiadosDocs().subscribe(t=>{this.docs=t;let{DocumentoDitiales:i}=this.docs.Persona;if(console.log(i),i.length>0){let r=new Array;i.forEach(s=>{console.log(s),ee.push({name:s.Descripcion,link:s.Descripcion,children:[{name:"001 fecha 14-11-2000"}]})}),console.log("docDig",r),ee.push(...r),this.dataSource.data=ee}})}regresar(){this.location.back()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=C({type:e,selectors:[["app-cat-fiados-docs"]],viewQuery:function(i,r){if(i&1&&b(qe,5),i&2){let s;_(s=D())&&(r.tree=s.first)}},standalone:!0,features:[he],decls:13,vars:4,consts:[[1,"flex"],[1,"spacer"],["mat-mini-fab","",1,"mx-2"],[1,"text-1xl"],["mat-mini-fab","",3,"click"],[1,"text-2xl"],[3,"dataSource","treeControl"],["matTreeNodePadding","",4,"matTreeNodeDef"],["matTreeNodePadding","",4,"matTreeNodeDef","matTreeNodeDefWhen"],["matTreeNodePadding",""],["mat-icon-button","","disabled",""],["mat-icon-button","","matTreeNodeToggle",""],[1,"mat-icon-rtl-mirror"]],template:function(i,r){i&1&&(l(0,"div",0),W(1,"span",1),l(2,"button",2)(3,"mat-icon",3),v(4,"upload_file"),f()(),l(5,"button",4),O("click",function(){return r.regresar()}),l(6,"mat-icon",5),v(7,"arrow_back"),f()()(),l(8,"h2"),v(9),f(),l(10,"mat-tree",6),de(11,ze,3,1,"mat-tree-node",7)(12,He,5,3,"mat-tree-node",8),f()),i&2&&(u(9),le(r.fiado.RazonSocial),u(),H("dataSource",r.dataSource)("treeControl",r.treeControl),u(2),H("matTreeNodeDefWhen",r.hasChild))},dependencies:[Be,Fe,Oe,Re,Ae,Se,xe,ye,De,be,Ce]});let n=e;return n})();export{It as default};
